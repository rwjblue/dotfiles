# Get editor completions based on the config schema
"$schema" = 'https://starship.rs/config-schema.json'

[[battery.display]]
# "bold red" style when capacity is between 0% and 10%
threshold = 10
style = "bold red"

[[battery.display]]
# "bold yellow" style when capacity is between 10% and 30%
threshold = 30
style = "bold yellow"

# when capacity is over 30%, the battery indicator will not be displayed

[shell]
# While I'm working to learn `fish` and swap as my default shell it's really nice to know
# which shell I'm currently using. This is a nice way to do that.
fish_indicator = '🐟 '
zsh_indicator = '🚀 '
unknown_indicator = 'mystery shell'
style = 'cyan bold'
disabled = false

[custom.jj]
command = '''
jj log --ignore-working-copy --no-graph --color always --revisions @ --template '
  surround(
    "(",
    ")",
    separate(
      " ",
      change_id.shortest(8),
      commit_id.shortest(8),
      if(empty, "(empty)"),
      coalesce(
          surround(
              "\"",
              "\"",
              if(
                  description.first_line().substr(0, 50).starts_with(description.first_line()),
                  description.first_line().substr(0, 50),
                  description.first_line().substr(0, 49) ++ "…"
              )
          ),
          "(no description set)"
      ),
      bookmarks.join(", "),
      branches.join(", "),
      if(conflict, "💥"),
      if(divergent, "🚧"),
      if(hidden, "👻"),
      if(immutable, "🔒"),
    )
  )
'
'''
when = "jj root --ignore-working-copy"
symbol = "🍐"
